<!DOCTYPE html>
<html ng-app="plunker">
<head>
    <title>Compile Function</title>
    <script src="angular.js"></script>
    <link href="bootstrap.css" rel="stylesheet" />
    <link href="bootstrap-theme.css" rel="stylesheet" />
    <script type="text/javascript">
		var app = angular.module('plunker', []);
	
	    function createDirective(name){ 
	      return function(){
	        return {
	          restrict: 'E',
	          compile: function(tElem, tAttrs){
	            console.log(name + ': compile => ' + tElem.html());
	            return {
	              pre: function(scope, iElem, iAttrs){
	                console.log(name + ': pre link => ' + iElem.html());
	              },
	              post: function(scope, iElem, iAttrs){
	                console.log(name + ': post link => ' + iElem.html());
	              }
	            }
	          }
	        }
	      }
	    }
	
	    app.directive('levelOne', createDirective('levelOne'));
	    app.directive('levelTwo', createDirective('levelTwo'));
	    app.directive('levelThree', createDirective('levelThree'));        
    </script>
</head>
<body class="panel panel-body" >
    <level-one>
        <level-two>
            <level-three>
                Hello 
            </level-three>
        </level-two>
    </level-one>
</body>
</html>
